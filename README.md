# open-nof1.ai

## ç³»ç»Ÿæ¦‚è¿°

open-nof1.ai æ˜¯ä¸€ä¸ª AI é©±åŠ¨çš„åŠ å¯†è´§å¸è‡ªåŠ¨äº¤æ˜“ç³»ç»Ÿï¼Œå°†å¤§è¯­è¨€æ¨¡å‹æ™ºèƒ½ä¸é‡åŒ–äº¤æ˜“å®è·µæ·±åº¦èåˆã€‚ç³»ç»ŸåŸºäº Agent æ¡†æ¶æ„å»ºï¼Œé€šè¿‡èµ‹äºˆ AI å®Œå…¨çš„å¸‚åœºåˆ†æå’Œäº¤æ˜“å†³ç­–è‡ªä¸»æƒï¼Œå®ç°çœŸæ­£çš„æ™ºèƒ½åŒ–äº¤æ˜“ã€‚

æœ¬ç³»ç»Ÿé‡‡ç”¨**æœ€å°äººå·¥å¹²é¢„**çš„è®¾è®¡ç†å¿µï¼Œæ‘’å¼ƒä¼ ç»Ÿçš„ç¡¬ç¼–ç äº¤æ˜“è§„åˆ™ï¼Œè®© AI æ¨¡å‹åŸºäºåŸå§‹å¸‚åœºæ•°æ®è¿›è¡Œè‡ªä¸»å­¦ä¹ å’Œå†³ç­–ã€‚ç³»ç»Ÿé›†æˆ Gate.io äº¤æ˜“æ‰€ï¼ˆæ”¯æŒæµ‹è¯•ç½‘å’Œæ­£å¼ç½‘ï¼‰ï¼Œæä¾›å®Œæ•´çš„æ°¸ç»­åˆçº¦äº¤æ˜“èƒ½åŠ›ï¼Œè¦†ç›– BTCã€ETHã€SOL ç­‰ä¸»æµåŠ å¯†è´§å¸ï¼Œæ”¯æŒä»æ•°æ®é‡‡é›†ã€æ™ºèƒ½åˆ†æã€é£é™©ç®¡ç†åˆ°äº¤æ˜“æ‰§è¡Œçš„å…¨æµç¨‹è‡ªåŠ¨åŒ–ã€‚

![open-nof1.ai](./public/image.png)

## ç›®å½•

- [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [å‘½ä»¤å‚è€ƒ](#å‘½ä»¤å‚è€ƒ)
- [ç”Ÿäº§éƒ¨ç½²](#ç”Ÿäº§éƒ¨ç½²)
- [æ•…éšœæ’æŸ¥](#æ•…éšœæ’æŸ¥)
- [API æ–‡æ¡£](#api-æ–‡æ¡£)
- [å‚ä¸è´¡çŒ®](#å‚ä¸è´¡çŒ®)
- [å¼€æºåè®®](#å¼€æºåè®®)

## ç³»ç»Ÿæ¶æ„

```chat
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Trading Agent (AI)                    â”‚
â”‚              (DeepSeek V3.2 / Gork4 / Claude)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”œâ”€â”€â”€ Market Data Analysis
                  â”œâ”€â”€â”€ Position Management
                  â””â”€â”€â”€ Trade Execution Decisions
                  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VoltAgent Core                       â”‚
â”‚              (Agent Orchestration & Tool Routing)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Trading Tools   â”‚            â”‚   Gate.io API Client  â”‚
â”‚                    â”‚            â”‚                       â”‚
â”‚ - Market Data      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ - Order Management    â”‚
â”‚ - Account Info     â”‚            â”‚ - Position Query      â”‚
â”‚ - Trade Execution  â”‚            â”‚ - Market Data Stream  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   LibSQL Database  â”‚
â”‚                    â”‚
â”‚ - Account History  â”‚
â”‚ - Trade Signals    â”‚
â”‚ - Agent Decisions  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯ | ç”¨é€” |
|------|------|------|
| æ¡†æ¶ | [VoltAgent](https://voltagent.dev) | AI Agent ç¼–æ’ä¸ç®¡ç† |
| AI æä¾›å•† | [DeepSeek å®˜æ–¹](https://platform.deepseek.com) (æ¨è) / [OpenRouter](https://openrouter.ai) | DeepSeek V3 ç›´è¿(èŠ‚çœ90%æˆæœ¬) æˆ– ç»Ÿä¸€ LLM è®¿é—® |
| äº¤æ˜“æ‰€ | [Gate.io](https://www.gate.io) | åŠ å¯†è´§å¸äº¤æ˜“(æµ‹è¯•ç½‘ & æ­£å¼ç½‘) |
| æ•°æ®åº“ | LibSQL (SQLite) | æœ¬åœ°æ•°æ®æŒä¹…åŒ– |
| Web æœåŠ¡å™¨ | Hono | é«˜æ€§èƒ½ HTTP æ¡†æ¶ |
| å¼€å‘è¯­è¨€ | TypeScript | ç±»å‹å®‰å…¨å¼€å‘ |
| è¿è¡Œæ—¶ | Node.js 20+ | JavaScript è¿è¡Œç¯å¢ƒ |

### æ ¸å¿ƒè®¾è®¡ç†å¿µ

- **æ•°æ®é©±åŠ¨**: å‘ AI æä¾›åŸå§‹å¸‚åœºæ•°æ®ï¼Œä¸è¿›è¡Œé¢„å¤„ç†æˆ–æ·»åŠ ä¸»è§‚åˆ¤æ–­
- **è‡ªä¸»å†³ç­–**: AI æ‹¥æœ‰å®Œå…¨çš„åˆ†æå’Œäº¤æ˜“å†³ç­–æƒé™ï¼Œæ— ç¡¬ç¼–ç ç­–ç•¥é™åˆ¶
- **å¤šç»´åº¦åˆ†æ**: èšåˆå¤šæ—¶é—´æ¡†æ¶æ•°æ®(5åˆ†é’Ÿã€15åˆ†é’Ÿã€1å°æ—¶ã€4å°æ—¶)æä¾›å…¨é¢å¸‚åœºè§†å›¾
- **é€æ˜å¯è¿½æº¯**: å®Œæ•´è®°å½•æ¯ä¸€æ¬¡å†³ç­–è¿‡ç¨‹ï¼Œä¾¿äºå›æµ‹åˆ†æå’Œç­–ç•¥ä¼˜åŒ–
- **æŒç»­å­¦ä¹ **: ç³»ç»Ÿè‡ªåŠ¨ç§¯ç´¯äº¤æ˜“ç»éªŒï¼Œä¸æ–­ä¼˜åŒ–å†³ç­–æ¨¡å‹

## æ ¸å¿ƒç‰¹æ€§

### AI é©±åŠ¨å†³ç­–

- **æ¨¡å‹æ”¯æŒ**: DeepSeek V3.2ã€GPT-4ã€Claude 3.5ã€Gemini Pro 1.5
- **æ•°æ®è¾“å…¥**: å®æ—¶ä»·æ ¼ã€æˆäº¤é‡ã€Kçº¿å½¢æ€ã€æŠ€æœ¯æŒ‡æ ‡
- **è‡ªä¸»åˆ†æ**: æ— é¢„é…ç½®äº¤æ˜“ä¿¡å·
- **å¤šæ—¶é—´æ¡†æ¶**: è·¨å¤šä¸ªæ—¶é—´çª—å£èšåˆæ•°æ®
- **é£é™©ç®¡ç†**: AI æ§åˆ¶çš„ä»“ä½è§„æ¨¡å’Œæ æ†ç®¡ç†

### å®Œæ•´äº¤æ˜“åŠŸèƒ½

- **æ”¯æŒèµ„äº§**: BTCã€ETHã€SOLã€BNBã€XRPã€DOGEã€GTã€TRUMPã€ADAã€WLFI
- **åˆçº¦ç±»å‹**: USDT ç»“ç®—æ°¸ç»­åˆçº¦
- **æ æ†èŒƒå›´**: 1å€è‡³10å€(å¯é…ç½®)
- **è®¢å•ç±»å‹**: å¸‚ä»·å•ã€æ­¢æŸã€æ­¢ç›ˆ
- **æŒä»“æ–¹å‘**: åšå¤šå’Œåšç©º
- **å®æ—¶æ‰§è¡Œ**: é€šè¿‡ Gate.io API äºšç§’çº§ä¸‹å•

### å®æ—¶ç›‘æ§ç•Œé¢

- **Web ä»ªè¡¨æ¿**: è®¿é—®åœ°å€ `http://localhost:3100`
- **è´¦æˆ·æŒ‡æ ‡**: ä½™é¢ã€å‡€å€¼ã€æœªå®ç°ç›ˆäº
- **æŒä»“æ¦‚è§ˆ**: å½“å‰æŒä»“ã€å…¥åœºä»·æ ¼ã€æ æ†å€æ•°
- **äº¤æ˜“å†å²**: å®Œæ•´çš„äº¤æ˜“è®°å½•ä¸æ—¶é—´æˆ³
- **AI å†³ç­–æ—¥å¿—**: é€æ˜å±•ç¤ºæ¨¡å‹æ¨ç†è¿‡ç¨‹
- **æŠ€æœ¯æŒ‡æ ‡**: å¸‚åœºæ•°æ®å’Œä¿¡å·çš„å¯è§†åŒ–

### é£é™©ç®¡ç†ç³»ç»Ÿ

- **è‡ªåŠ¨æ­¢æŸ**: å¯é…ç½®çš„ç™¾åˆ†æ¯”æ­¢æŸ
- **æ­¢ç›ˆè®¢å•**: è‡ªåŠ¨åˆ©æ¶¦å…‘ç°
- **ä»“ä½é™åˆ¶**: æ¯ä¸ªèµ„äº§çš„æœ€å¤§æ•å£
- **æ æ†æ§åˆ¶**: å¯é…ç½®çš„æœ€å¤§æ æ†
- **äº¤æ˜“èŠ‚æµ**: äº¤æ˜“ä¹‹é—´çš„æœ€å°é—´éš”
- **å®¡è®¡è¿½è¸ª**: å®Œæ•´çš„æ•°æ®åº“æ—¥å¿—è®°å½•

### ç”Ÿäº§å°±ç»ªéƒ¨ç½²

- **æµ‹è¯•ç½‘æ”¯æŒ**: é›¶é£é™©ç­–ç•¥éªŒè¯
- **è¿›ç¨‹ç®¡ç†**: PM2 é›†æˆç¡®ä¿å¯é æ€§
- **å®¹å™¨åŒ–**: Docker æ”¯æŒéš”ç¦»éƒ¨ç½²
- **è‡ªåŠ¨æ¢å¤**: å¤±è´¥æ—¶è‡ªåŠ¨é‡å¯
- **æ—¥å¿—è®°å½•**: å…¨é¢çš„é”™è¯¯å’Œä¿¡æ¯æ—¥å¿—
- **å¥åº·ç›‘æ§**: å†…ç½®å¥åº·æ£€æŸ¥ç«¯ç‚¹

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 20.19.0
- npm æˆ– pnpm åŒ…ç®¡ç†å™¨
- Git ç‰ˆæœ¬æ§åˆ¶å·¥å…·

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone <repository-url>
cd nof1.ai

# å®‰è£…ä¾èµ–
npm install
```

### é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶:

```env
# äº¤æ˜“æ‰€ç±»å‹ (binance æˆ– gate)
EXCHANGE_TYPE=binance

# äº¤æ˜“å‚æ•°
TRADING_INTERVAL_MINUTES=5      # äº¤æ˜“å¾ªç¯é—´éš”
MAX_LEVERAGE=10                 # æœ€å¤§æ æ†å€æ•°
INITIAL_BALANCE=2000            # åˆå§‹èµ„é‡‘(USDT)

# æ•°æ®åº“
DATABASE_URL=file:./.voltagent/trading.db

# å¸å®‰ API å‡­è¯(å»ºè®®å…ˆä½¿ç”¨æµ‹è¯•ç½‘!)
BINANCE_API_KEY=your_api_key_here
BINANCE_API_SECRET=your_api_secret_here
BINANCE_USE_TESTNET=true

# Gate.io API å‡­è¯(å¯é€‰ï¼Œä»…åœ¨EXCHANGE_TYPE=gateæ—¶ä½¿ç”¨)
GATE_API_KEY=your_api_key_here
GATE_API_SECRET=your_api_secret_here
GATE_USE_TESTNET=true

# AI æ¨¡å‹æä¾›å•†ï¼ˆæ¨èä½¿ç”¨ DeepSeek å®˜æ–¹ï¼ŒèŠ‚çœ 90% æˆæœ¬ï¼‰
USE_DEEPSEEK_DIRECT=true
DEEPSEEK_API_KEY=your_deepseek_key_here
# OPENROUTER_API_KEY=your_openrouter_key_here  # å¯é€‰ï¼šä½œä¸ºå¤‡ç”¨
```

**API å¯†é’¥è·å–**:

- **DeepSeek å®˜æ–¹ (æ¨è)**: <https://platform.deepseek.com/api_keys> - è´¹ç”¨ä»…ä¸º OpenRouter çš„ 6-8%
- OpenRouter: <https://openrouter.ai/keys>
- å¸å®‰æµ‹è¯•ç½‘: <https://testnet.binance.vision/>
- å¸å®‰æ­£å¼ç½‘: <https://www.binance.com/zh-CN/my/settings/api-management>
- Gate.io æµ‹è¯•ç½‘: <https://www.gate.io/testnet>
- Gate.io æ­£å¼ç½‘: <https://www.gate.io/myaccount/api_key_manage>

> ğŸ’¡ **æˆæœ¬ä¼˜åŒ–æç¤º**: å¼ºçƒˆå»ºè®®ä½¿ç”¨ DeepSeek å®˜æ–¹ APIï¼ç›¸åŒè´¨é‡ä¸‹è´¹ç”¨ä»…ä¸º OpenRouter çš„ 6-8%ã€‚è¯¦è§ [DeepSeek è¿ç§»æŒ‡å—](./DEEPSEEK_MIGRATION_GUIDE.md)

### æ•°æ®åº“åˆå§‹åŒ–

```bash
npm run db:init
```

### å¯åŠ¨äº¤æ˜“ç³»ç»Ÿ

```bash
# å¼€å‘æ¨¡å¼(çƒ­é‡è½½)
npm run dev

# ç”Ÿäº§æ¨¡å¼
npm run trading:start
```

### è®¿é—® Web ä»ªè¡¨æ¿

åœ¨æµè§ˆå™¨ä¸­è®¿é—® `http://localhost:3100`

## é¡¹ç›®ç»“æ„

```bash
nof1.ai/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts                      # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â””â”€â”€ tradingAgent.ts           # AI äº¤æ˜“ Agent å®ç°
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ routes.ts                 # ç›‘æ§ç•Œé¢ HTTP API ç«¯ç‚¹
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ init.ts                   # æ•°æ®åº“åˆå§‹åŒ–é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ schema.ts                 # æ•°æ®åº“æ¨¡å¼å®šä¹‰
â”‚   â”‚   â””â”€â”€ sync-from-gate.ts         # äº¤æ˜“æ‰€æ•°æ®åŒæ­¥
â”‚   â”œâ”€â”€ scheduler/
â”‚   â”‚   â””â”€â”€ tradingLoop.ts            # äº¤æ˜“å¾ªç¯ç¼–æ’
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ gateClient.ts             # Gate.io API å®¢æˆ·ç«¯å°è£…
â”‚   â”‚   â””â”€â”€ multiTimeframeAnalysis.ts # å¤šæ—¶é—´æ¡†æ¶æ•°æ®èšåˆå™¨
â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â””â”€â”€ trading/                  # VoltAgent å·¥å…·å®ç°
â”‚   â”‚       â”œâ”€â”€ accountManagement.ts  # è´¦æˆ·æŸ¥è¯¢ä¸ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ marketData.ts         # å¸‚åœºæ•°æ®è·å–
â”‚   â”‚       â””â”€â”€ tradeExecution.ts     # è®¢å•ä¸‹è¾¾ä¸ç®¡ç†
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ gate.d.ts                 # TypeScript ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ timeUtils.ts              # æ—¶é—´/æ—¥æœŸå·¥å…·å‡½æ•°
â”œâ”€â”€ public/                           # Web ä»ªè¡¨æ¿é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ index.html                    # ä»ªè¡¨æ¿ HTML
â”‚   â”œâ”€â”€ app.js                        # ä»ªè¡¨æ¿ JavaScript
â”‚   â””â”€â”€ style.css                     # ä»ªè¡¨æ¿æ ·å¼
â”œâ”€â”€ scripts/                          # è¿ç»´è„šæœ¬
â”‚   â”œâ”€â”€ init-db.sh                    # æ•°æ®åº“è®¾ç½®è„šæœ¬
â”‚   â”œâ”€â”€ kill-port.sh                  # æœåŠ¡å…³é—­è„šæœ¬
â”‚   â””â”€â”€ sync-from-gate.sh             # æ•°æ®åŒæ­¥è„šæœ¬
â”œâ”€â”€ docs/                             # é™„åŠ æ–‡æ¡£
â”‚   â”œâ”€â”€ DATABASE_SETUP.md
â”‚   â””â”€â”€ NETWORK_CONFIG.md
â”œâ”€â”€ .env                              # ç¯å¢ƒé…ç½®
â”œâ”€â”€ .voltagent/                       # æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â””â”€â”€ trading.db                    # SQLite æ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ ecosystem.config.cjs              # PM2 è¿›ç¨‹é…ç½®
â”œâ”€â”€ package.json                      # Node.js ä¾èµ–
â”œâ”€â”€ tsconfig.json                     # TypeScript é…ç½®
â””â”€â”€ Dockerfile                        # å®¹å™¨æ„å»ºå®šä¹‰
```

## é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

| å˜é‡ | è¯´æ˜ | é»˜è®¤å€¼ | æ˜¯å¦å¿…éœ€ |
|------|------|--------|---------|
| `PORT` | HTTP æœåŠ¡å™¨ç«¯å£ | 3100 | å¦ |
| `TRADING_INTERVAL_MINUTES` | äº¤æ˜“å¾ªç¯é—´éš”(åˆ†é’Ÿ) | 5 | å¦ |
| `MAX_LEVERAGE` | æœ€å¤§æ æ†å€æ•° | 10 | å¦ |
| `INITIAL_BALANCE` | åˆå§‹èµ„é‡‘(USDT) | 2000 | å¦ |
| `DATABASE_URL` | SQLite æ•°æ®åº“æ–‡ä»¶è·¯å¾„ | file:./.voltagent/trading.db | å¦ |
| `GATE_API_KEY` | Gate.io API å¯†é’¥ | - | æ˜¯ |
| `GATE_API_SECRET` | Gate.io API å¯†é’¥ | - | æ˜¯ |
| `GATE_USE_TESTNET` | ä½¿ç”¨æµ‹è¯•ç½‘ç¯å¢ƒ | true | å¦ |
| `USE_DEEPSEEK_DIRECT` | ä½¿ç”¨ DeepSeek å®˜æ–¹ API (æ¨è) | false | å¦ |
| `DEEPSEEK_API_KEY` | DeepSeek å®˜æ–¹ API å¯†é’¥ (æ¨è) | - | æ¡ä»¶å¿…éœ€* |
| `OPENROUTER_API_KEY` | OpenRouter API å¯†é’¥ | - | æ¡ä»¶å¿…éœ€* |

\* è‡³å°‘éœ€è¦é…ç½® `DEEPSEEK_API_KEY` æˆ– `OPENROUTER_API_KEY` ä¹‹ä¸€

### AI æ¨¡å‹é…ç½®

**æ¨èé…ç½®ï¼ˆèŠ‚çœ 90% æˆæœ¬ï¼‰**ï¼š

```bash
USE_DEEPSEEK_DIRECT=true
DEEPSEEK_API_KEY=sk-your-key
AI_MODEL_NAME=deepseek-chat  # DeepSeek å®˜æ–¹æ¨¡å‹å
```

**ä½¿ç”¨ DeepSeek å®˜æ–¹æ—¶çš„å¯é€‰æ¨¡å‹**ï¼š

- `deepseek-chat` - DeepSeek V3 ä¸»æ¨¡å‹ï¼ˆæ¨èï¼Œé»˜è®¤ï¼‰
- `deepseek-coder` - ä»£ç ä¸“ç”¨æ¨¡å‹

**ä½¿ç”¨ OpenRouter æ—¶çš„å¯é€‰æ¨¡å‹**ï¼š

- `deepseek/deepseek-v3.2-exp` - DeepSeek V3.2 å®éªŒç‰ˆï¼ˆé»˜è®¤ï¼‰
- `openai/gpt-4o-mini` - æ€§ä»·æ¯”é«˜
- `openai/gpt-4o` - é«˜è´¨é‡æ¨ç†
- `anthropic/claude-3.5-sonnet` - å¼ºå¤§çš„åˆ†æèƒ½åŠ›
- `google/gemini-pro-1.5` - å¤šæ¨¡æ€æ”¯æŒ

è¦æ›´æ¢æ¨¡å‹,è¯·ä¿®æ”¹ `src/agents/tradingAgent.ts` ä¸­çš„é…ç½®ã€‚

## å‘½ä»¤å‚è€ƒ

### å¼€å‘

```bash
# å¼€å‘æ¨¡å¼(çƒ­é‡è½½)
npm run dev

# ç±»å‹æ£€æŸ¥
npm run typecheck

# ä»£ç æ£€æŸ¥
npm run lint

# è‡ªåŠ¨ä¿®å¤ä»£ç é—®é¢˜
npm run lint:fix
```

### äº¤æ˜“ç³»ç»Ÿæ“ä½œ

```bash
# å¯åŠ¨äº¤æ˜“ç³»ç»Ÿ
npm run trading:start

# åœæ­¢äº¤æ˜“ç³»ç»Ÿ
npm run trading:stop

# é‡å¯äº¤æ˜“ç³»ç»Ÿ
npm run trading:restart
```

### æ•°æ®åº“ç®¡ç†

```bash
# åˆå§‹åŒ–æ•°æ®åº“ç»“æ„
npm run db:init

# é‡ç½®æ•°æ®åº“(æ¸…ç©ºæ‰€æœ‰æ•°æ®)
npm run db:reset

# æ£€æŸ¥æ•°æ®åº“çŠ¶æ€
npm run db:status

# ä» Gate.io åŒæ­¥æ•°æ®
npm run db:sync

# åŒæ­¥æŒä»“æ•°æ®
npm run db:sync-positions
```

### Docker å®¹å™¨ç®¡ç†

```bash
# ä½¿ç”¨å¿«é€Ÿå¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
npm run docker:start

# åœæ­¢å®¹å™¨
npm run docker:stop

# æŸ¥çœ‹æ—¥å¿—
npm run docker:logs

# æ„å»ºé•œåƒ
npm run docker:build

# ä½¿ç”¨ Docker Compose
npm run docker:up          # å¯åŠ¨å¼€å‘ç¯å¢ƒ
npm run docker:down        # åœæ­¢å¼€å‘ç¯å¢ƒ
npm run docker:restart     # é‡å¯å®¹å™¨

# ç”Ÿäº§ç¯å¢ƒ
npm run docker:prod:up     # å¯åŠ¨ç”Ÿäº§ç¯å¢ƒ
npm run docker:prod:down   # åœæ­¢ç”Ÿäº§ç¯å¢ƒ
```

### PM2 è¿›ç¨‹ç®¡ç†

```bash
# å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹
npm run pm2:start

# ä»¥å¼€å‘æ¨¡å¼å¯åŠ¨
npm run pm2:start:dev

# åœæ­¢è¿›ç¨‹
npm run pm2:stop

# é‡å¯è¿›ç¨‹
npm run pm2:restart

# æŸ¥çœ‹æ—¥å¿—
npm run pm2:logs

# å®æ—¶ç›‘æ§
npm run pm2:monit

# åˆ—å‡ºæ‰€æœ‰è¿›ç¨‹
npm run pm2:list

# åˆ é™¤è¿›ç¨‹
npm run pm2:delete
```

### æ„å»ºä¸ç”Ÿäº§

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# è¿è¡Œç”Ÿäº§æ„å»º
npm start
```

## ç”Ÿäº§éƒ¨ç½²

### PM2 éƒ¨ç½²(æ¨è)

PM2 ä¸ºé•¿æ—¶é—´è¿è¡Œçš„ Node.js åº”ç”¨æä¾›å¼ºå¤§çš„è¿›ç¨‹ç®¡ç†ã€‚

**å®‰è£…å’Œè®¾ç½®**:

```bash
# 1. å…¨å±€å®‰è£… PM2
npm install -g pm2

# 2. å¯åŠ¨åº”ç”¨
npm run pm2:start

# 3. å¯ç”¨å¼€æœºè‡ªå¯
pm2 startup
pm2 save

# 4. ç›‘æ§æ—¥å¿—
npm run pm2:logs
```

**PM2 é…ç½®** (`ecosystem.config.cjs`):

```javascript
module.exports = {
  apps: [
    {
      name: 'open-nof1.ai',
      script: 'tsx',
      args: '--env-file=.env ./src',
      instances: 1,
      autorestart: true,
      watch: false,
      max_memory_restart: '1G',
      env: {
        NODE_ENV: 'production',
        TZ: 'Asia/Shanghai'
      }
    }
  ]
};
```

### Docker éƒ¨ç½²

**æ„å»ºå’Œè¿è¡Œ**:

```bash
# æ„å»º Docker é•œåƒ
docker build -t open-nof1.ai:latest .

# è¿è¡Œå®¹å™¨
docker run -d \
  --name open-nof1.ai \
  -p 3100:3100 \
  --env-file .env \
  --restart unless-stopped \
  -v ./voltagent-data:/app/.voltagent \
  -v ./logs:/app/logs \
  open-nof1.ai:latest

# æŸ¥çœ‹æ—¥å¿—
docker logs -f open-nof1.ai

# åœæ­¢å®¹å™¨
docker stop open-nof1.ai

# åˆ é™¤å®¹å™¨
docker rm open-nof1.ai
```

**Docker Compose**(æ¨è):

```bash
# ä½¿ç”¨å¿«é€Ÿå¯åŠ¨è„šæœ¬
./scripts/docker-start.sh

# æˆ–æ‰‹åŠ¨ä½¿ç”¨ Docker Compose
docker compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f

# åœæ­¢æœåŠ¡
docker compose down
```

è¯¦ç»†çš„ Docker éƒ¨ç½²æ–‡æ¡£è¯·å‚è€ƒ: [Docker éƒ¨ç½²æŒ‡å—](./docs/DOCKER_DEPLOYMENT.md)

## æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

#### æ•°æ®åº“é”å®š

**é”™è¯¯**: `database is locked`

**è§£å†³æ–¹æ¡ˆ**:

```bash
# åœæ­¢æ‰€æœ‰è¿è¡Œå®ä¾‹
npm run trading:stop
# æˆ–å¼ºåˆ¶ç»ˆæ­¢
pkill -f "tsx"

# åˆ é™¤æ•°æ®åº“é”æ–‡ä»¶
rm -f .voltagent/trading.db-shm
rm -f .voltagent/trading.db-wal

# é‡å¯
npm run trading:start
```

#### API å‡­è¯æœªé…ç½®

**é”™è¯¯**: `GATE_API_KEY and GATE_API_SECRET must be set in environment variables`

**è§£å†³æ–¹æ¡ˆ**:

```bash
# éªŒè¯ .env æ–‡ä»¶
cat .env | grep GATE_API

# ç¼–è¾‘é…ç½®
nano .env
```

#### ç«¯å£è¢«å ç”¨

**é”™è¯¯**: `EADDRINUSE: address already in use :::3100`

**è§£å†³æ–¹æ¡ˆ**:

```bash
# æ–¹æ³• 1: ä½¿ç”¨åœæ­¢è„šæœ¬
npm run trading:stop

# æ–¹æ³• 2: æ‰‹åŠ¨ç»ˆæ­¢è¿›ç¨‹
lsof -ti:3100 | xargs kill -9

# æ–¹æ³• 3: åœ¨ .env ä¸­æ›´æ”¹ç«¯å£
# è®¾ç½® PORT=3200
```

#### æŠ€æœ¯æŒ‡æ ‡è¿”å›é›¶

**åŸå› **: Kçº¿æ•°æ®æ ¼å¼ä¸åŒ¹é…

**è§£å†³æ–¹æ¡ˆ**:

```bash
# æ‹‰å–æœ€æ–°æ›´æ–°
git pull

# é‡æ–°å®‰è£…ä¾èµ–
npm install

# é‡å¯ç³»ç»Ÿ
npm run trading:restart
```

#### AI æ¨¡å‹ API é”™è¯¯

**é”™è¯¯**: `OpenRouter API error`

**è§£å†³æ–¹æ¡ˆ**:

- éªŒè¯ `OPENROUTER_API_KEY` æ˜¯å¦æ­£ç¡®
- ç¡®ä¿ API å¯†é’¥æœ‰è¶³å¤Ÿé¢åº¦
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- éªŒè¯ OpenRouter æœåŠ¡çŠ¶æ€

### æ—¥å¿—è®°å½•

```bash
# æŸ¥çœ‹å®æ—¶ç»ˆç«¯æ—¥å¿—
npm run trading:start

# æŸ¥çœ‹ PM2 æ—¥å¿—
npm run pm2:logs

# æŸ¥çœ‹å†å²æ—¥å¿—æ–‡ä»¶
tail -f logs/trading-$(date +%Y-%m-%d).log

# æŸ¥çœ‹ PM2 é”™è¯¯æ—¥å¿—
tail -f logs/pm2-error.log
```

### æ•°æ®åº“æ£€æŸ¥

```bash
# æ£€æŸ¥æ•°æ®åº“çŠ¶æ€
npm run db:status

# è¿›å…¥ SQLite äº¤äº’æ¨¡å¼
sqlite3 .voltagent/trading.db

# SQLite å‘½ä»¤
.tables                      # åˆ—å‡ºæ‰€æœ‰è¡¨
.schema account_history      # æŸ¥çœ‹è¡¨ç»“æ„
SELECT * FROM account_history ORDER BY timestamp DESC LIMIT 10;
.exit                        # é€€å‡º SQLite
```

## API æ–‡æ¡£

### REST API ç«¯ç‚¹

| ç«¯ç‚¹ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/account` | GET | å½“å‰è´¦æˆ·çŠ¶æ€å’Œä½™é¢ |
| `/api/positions` | GET | æ´»è·ƒæŒä»“ |
| `/api/trades` | GET | äº¤æ˜“å†å² |
| `/api/decisions` | GET | AI å†³ç­–æ—¥å¿— |
| `/api/health` | GET | ç³»ç»Ÿå¥åº·æ£€æŸ¥ |

### WebSocket æ”¯æŒ

å®æ—¶æ•°æ®æµæ”¯æŒ:

- è´¦æˆ·æ›´æ–°
- æŒä»“å˜åŒ–
- æ–°äº¤æ˜“æ‰§è¡Œ
- AI å†³ç­–äº‹ä»¶

## æœ€ä½³å®è·µ

### æµ‹è¯•ç½‘æµ‹è¯•

**é‡è¦**: æ­£å¼ç½‘éƒ¨ç½²å‰åŠ¡å¿…åœ¨æµ‹è¯•ç½‘å……åˆ†æµ‹è¯•ã€‚

```bash
# åœ¨ .env ä¸­é…ç½®
GATE_USE_TESTNET=true
```

æµ‹è¯•ç½‘ä¼˜åŠ¿:

- ä½¿ç”¨è™šæ‹Ÿèµ„é‡‘é›¶é‡‘èé£é™©
- å®Œæ•´æ¨¡æ‹ŸçœŸå®äº¤æ˜“ç¯å¢ƒ
- éªŒè¯ AI ç­–ç•¥æœ‰æ•ˆæ€§
- åœ¨å„ç§æ¡ä»¶ä¸‹æµ‹è¯•ç³»ç»Ÿå¯é æ€§

### èµ„é‡‘ç®¡ç†

åˆ‡æ¢åˆ°æ­£å¼ç½‘æ—¶:

- ä½¿ç”¨æœ€å°èµ„é‡‘å¯åŠ¨(å»ºè®®: 100-500 USDT)
- ç›‘æ§å‡ å¤©çš„è¡¨ç°
- æ ¹æ®éªŒè¯ç»“æœé€æ­¥æ‰©å¤§èµ„é‡‘è§„æ¨¡
- è®¾ç½®åˆé€‚çš„æ­¢æŸç™¾åˆ†æ¯”

### å®šæœŸå¤‡ä»½

```bash
# å¤‡ä»½æ•°æ®åº“
cp .voltagent/trading.db .voltagent/trading.db.backup-$(date +%Y%m%d)

# è‡ªåŠ¨å¤‡ä»½è„šæœ¬
#!/bin/bash
backup_dir="backups"
mkdir -p $backup_dir
cp .voltagent/trading.db "$backup_dir/trading-$(date +%Y%m%d-%H%M%S).db"
```

### ç›‘æ§ä¸è°ƒæ•´

- å®šæœŸæŸ¥çœ‹ Web ä»ªè¡¨æ¿æŒ‡æ ‡
- åˆ†æ AI å†³ç­–æ—¥å¿—ä¸­çš„æ¨¡å¼
- ç›‘æ§é”™è¯¯æ—¥å¿—å’Œç³»ç»Ÿå‘Šè­¦
- æ ¹æ®å¸‚åœºæ¡ä»¶è°ƒæ•´å‚æ•°

### é£é™©æ§åˆ¶

- è®¾ç½®ä¿å®ˆçš„æœ€å¤§æ æ†(å»ºè®®: 3-5å€)
- å®šä¹‰æ¯ç¬”äº¤æ˜“çš„æœ€å¤§ä»“ä½è§„æ¨¡
- è·¨å¤šä¸ªèµ„äº§åˆ†æ•£æŠ•èµ„
- é¿å…åœ¨æç«¯å¸‚åœºæ³¢åŠ¨æœŸé—´äº¤æ˜“

### åˆ‡æ¢åˆ°æ­£å¼ç½‘

**è­¦å‘Š**: æ­£å¼ç½‘éƒ¨ç½²å‰ç¡®ä¿å·²å®Œæˆå½»åº•çš„æµ‹è¯•ç½‘éªŒè¯ã€‚

```bash
# 1. åœæ­¢ç³»ç»Ÿ
# æŒ‰ Ctrl+C

# 2. ç¼–è¾‘ .env æ–‡ä»¶
nano .env

# 3. æ›´æ–°é…ç½®
GATE_USE_TESTNET=false
GATE_API_KEY=your_mainnet_api_key
GATE_API_SECRET=your_mainnet_api_secret

# 4. é‡å¯ç³»ç»Ÿ
npm run trading:start
```

## èµ„æº

### æ–‡æ¡£

- [æ•°æ®åº“è®¾ç½®æŒ‡å—](./docs/DATABASE_SETUP.md)
- [ç½‘ç»œé…ç½®](./docs/NETWORK_CONFIG.md)

### å¤–éƒ¨é“¾æ¥

- [VoltAgent æ–‡æ¡£](https://voltagent.dev/docs/)
- [OpenRouter æ¨¡å‹ç›®å½•](https://openrouter.ai/models)
- [Gate.io API å‚è€ƒ](https://www.gate.io/docs/developers/apiv4/)
- [Gate.io æµ‹è¯•ç½‘](https://www.gate.io/testnet)

## é£é™©å£°æ˜

**æœ¬ç³»ç»Ÿä»…ä¾›æ•™è‚²å’Œç ”ç©¶ç›®çš„ã€‚åŠ å¯†è´§å¸äº¤æ˜“å…·æœ‰é‡å¤§é£é™©,å¯èƒ½å¯¼è‡´èµ„é‡‘æŸå¤±ã€‚**

- åŠ¡å¿…å…ˆåœ¨æµ‹è¯•ç½‘æµ‹è¯•ç­–ç•¥
- ä»…æŠ•èµ„æ‚¨èƒ½æ‰¿å—æŸå¤±çš„èµ„é‡‘
- ç†è§£å¹¶æ¥å—æ‰€æœ‰äº¤æ˜“é£é™©
- AI å†³ç­–ä¸ä¿è¯ç›ˆåˆ©
- ç”¨æˆ·å¯¹æ‰€æœ‰äº¤æ˜“æ´»åŠ¨æ‰¿æ‹…å…¨éƒ¨è´£ä»»
- ç³»ç»Ÿæ€§èƒ½ä¸æä¾›ä»»ä½•ä¿è¯æˆ–æ‹…ä¿
- è¿‡å¾€è¡¨ç°ä¸ä»£è¡¨æœªæ¥ç»“æœ

## å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ **GNU Affero General Public License v3.0 (AGPL-3.0)** åè®®ã€‚

### ä¸»è¦æ¡æ¬¾

- **å…è´¹ä½¿ç”¨**: æ‚¨å¯ä»¥å‡ºäºä»»ä½•ç›®çš„ä½¿ç”¨æœ¬è½¯ä»¶
- **å¼€æºè¦æ±‚**: ä»»ä½•ä¿®æ”¹æˆ–è¡ç”Ÿä½œå“å¿…é¡»åœ¨ AGPL-3.0 ä¸‹å‘å¸ƒ
- **ç½‘ç»œä½¿ç”¨**: å¦‚æœæ‚¨é€šè¿‡ç½‘ç»œæä¾›æœ¬è½¯ä»¶æœåŠ¡,å¿…é¡»å…¬å¼€æºä»£ç 
- **æ— æ‹…ä¿**: è½¯ä»¶æŒ‰"åŸæ ·"æä¾›,ä¸æä¾›ä»»ä½•å½¢å¼çš„æ‹…ä¿

å®Œæ•´æ¡æ¬¾è¯·å‚è§ [LICENSE](./LICENSE) æ–‡ä»¶ã€‚

### ä¸ºä»€ä¹ˆé€‰æ‹© AGPL-3.0?

æˆ‘ä»¬é€‰æ‹© AGPL-3.0 ä»¥ç¡®ä¿:

- äº¤æ˜“ç¤¾åŒºä»æ‰€æœ‰æ”¹è¿›ä¸­å—ç›Š
- é‡‘èè½¯ä»¶çš„é€æ˜åº¦
- é˜²æ­¢ä¸“æœ‰åˆ†æ”¯
- ä¿æŠ¤ç”¨æˆ·è‡ªç”±

## å‚ä¸è´¡çŒ®

æ¬¢è¿è´¡çŒ®!è¯·éµå¾ªä»¥ä¸‹æŒ‡å—:

### æŠ¥å‘Šé—®é¢˜

- ä½¿ç”¨ GitHub Issues æŠ¥å‘Š bug å’ŒåŠŸèƒ½è¯·æ±‚
- æä¾›è¯¦ç»†çš„é‡ç°æ­¥éª¤
- åŒ…å«ç³»ç»Ÿä¿¡æ¯å’Œæ—¥å¿—
- åˆ›å»ºæ–°é—®é¢˜å‰æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨ç›¸åŒé—®é¢˜

### Pull Request

1. Fork ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹æ—¶éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ªç°æœ‰çš„ TypeScript ä»£ç é£æ ¼
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•
- æ ¹æ®éœ€è¦æ›´æ–°æ–‡æ¡£
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
- æäº¤å‰è¿è¡Œ linter

### æäº¤ä¿¡æ¯è§„èŒƒ

éµå¾ª Conventional Commits è§„èŒƒ:

```chat
<ç±»å‹>[å¯é€‰ èŒƒå›´]: <æè¿°>

[å¯é€‰ æ­£æ–‡]

[å¯é€‰ è„šæ³¨]
```

ç±»å‹:

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£å˜æ›´
- `style`: ä»£ç æ ·å¼å˜æ›´(æ ¼å¼åŒ–ç­‰)
- `refactor`: ä»£ç é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•æ·»åŠ æˆ–ä¿®æ”¹
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·å˜æ›´
- `ci`: CI/CD é…ç½®å˜æ›´
